{% extends "base.html" %}
{% load crispy_forms_filters %}
{% block content %}
    <h1>
      Tasks List <a href="{% url 'manager:task-create' %}" class="btn btn-primary" style="float: right;">
        Create
      </a>
    </h1>
    <form action="" method="get" class="form-inline">
      {{ search_form|crispy }} 
      <input class="btn btn-outline-secondary" type="submit" value="Search">
    </form>
    {% if task_list %}
    <table class="table">
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Description</th>
        <th>Deadline</th>
        <th>Priority</th>
        <th>Is Completed</th>
      </tr>
    {% for task in task_list %}
      <tr>
        <td>{{ task.id }}</td>
        <td><a href="{{ task.get_absolute_url }}">{{ task.name }}</a></td>
        <td>{{ task.description }}</td>
        <td>{{ task.deadline }}</td>
        <td>{{ task.priority }}</td>
        <td>
          <input type="checkbox"
            {% if task.is_completed %}checked{% endif %}
            disabled>
        </td>
      </tr>
    {% endfor %}
    </table>
    {% else %}
      <p>There are no tasks in the service.</p>
    {% endif %}
{% endblock %}
