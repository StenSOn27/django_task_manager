<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sign in to our platform</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
    body {
      font-family: 'Inter', sans-serif;
      background-color: #f9fafb;
    }
    .input-container {
      position: relative;
      width: 100%;
    }
    .input-field {
      width: 100%;
      padding: 12px 14px 12px 45px;
      border: 1px solid #e5e7eb;
      border-radius: 6px;
      font-size: 16px;
      background-color: #ffffff;
      color: #374151;
    }
    .input-field:focus {
      outline: none;
      border-color: #d1d5db;
      box-shadow: 0 0 0 1px #d1d5db;
      background-color: #ffffff;
    }
    .input-field::placeholder {
      color: #9ca3af;
    }
    .input-icon-left {
      position: absolute;
      left: 14px;
      top: 50%;
      transform: translateY(-50%);
      color: #6b7280;
    }
    .input-icon-right {
      position: absolute;
      right: 14px;
      top: 50%;
      transform: translateY(-50%);
      color: #6b7280;
    }
    .label {
      display: block;
      margin-bottom: 8px;
      font-size: 16px;
      font-weight: 500;
      color: #374151;
    }
    .error-message {
      color: #ef4444;
      font-size: 14px;
      margin-top: 4px;
    }
  </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-4">
  <div class="w-full max-w-lg">
    <!-- Back to homepage link -->
    <div class="text-center mb-6">
      <a href="{% url 'manager:index' %}" class="inline-flex items-center text-gray-700 hover:text-gray-900">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 h-4 w-4">
          <path d="m12 19-7-7 7-7"></path>
          <path d="M19 12H5"></path>
        </svg>
        Back to homepage
      </a>
    </div>

    <!-- Login form -->
    <div class="bg-white p-10 rounded-lg shadow-sm w-full">
      <div class="text-center mb-8">
        <h1 class="text-2xl font-semibold text-gray-900">Sign in to our platform</h1>
      </div>

      {% if form.non_field_errors %}
      <div class="mb-4 p-4 bg-red-50 border border-red-200 rounded-md">
        {% for error in form.non_field_errors %}
        <p class="text-red-500 text-sm">{{ error }}</p>
        {% endfor %}
      </div>
      {% endif %}

      <form method="post" action="{% url 'login' %}" class="space-y-6">
        {% csrf_token %}
        
        <div class="space-y-2">
          <label for="{{ form.username.id_for_label }}" class="label">
            Your Email
          </label>
          <div class="input-container">
            <span class="input-icon-left">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5">
                <rect width="20" height="16" x="2" y="4" rx="2"></rect>
                <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path>
              </svg>
            </span>
            <input type="email" name="{{ form.username.html_name }}" id="{{ form.username.id_for_label }}" placeholder="example@company.com" class="input-field" required>
            <span class="input-icon-right">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5">
                <circle cx="11" cy="11" r="8"></circle>
                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
              </svg>
            </span>
          </div>
          {% if form.username.errors %}
          <div class="error-message">
            {% for error in form.username.errors %}
            <p>{{ error }}</p>
            {% endfor %}
          </div>
          {% endif %}
        </div>

        <div class="space-y-2">
          <label for="{{ form.password.id_for_label }}" class="label">
            Your Password
          </label>
          <div class="input-container">
            <span class="input-icon-left">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5">
                <rect width="18" height="11" x="3" y="11" rx="2" ry="2"></rect>
                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
              </svg>
            </span>
            <input type="password" name="{{ form.password.html_name }}" id="{{ form.password.id_for_label }}" placeholder="Password" class="input-field" required>
          </div>
          {% if form.password.errors %}
          <div class="error-message">
            {% for error in form.password.errors %}
            <p>{{ error }}</p>
            {% endfor %}
          </div>
          {% endif %}
        </div>

        <div class="flex items-center justify-between">
          <div class="flex items-center">
            <input id="remember" name="remember" type="checkbox" class="h-4 w-4 text-gray-900 focus:ring-gray-500 border-gray-300 rounded">
            <label for="remember" class="ml-2 block text-sm text-gray-700">
              Remember me
            </label>
          </div>
          <a href="{% url 'password_reset' %}" class="text-sm text-gray-700 hover:text-gray-900">
            Lost password?
          </a>
        </div>

        <!-- Hidden field for next page redirect if needed -->
        {% if next %}
        <input type="hidden" name="next" value="{{ next }}">
        {% endif %}

        <button type="submit" class="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gray-900 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500">
          Sign In
        </button>

        <div class="text-center">
          <p class="text-sm text-gray-600">or login with</p>
          <div class="flex justify-center space-x-4 mt-3">
            <a href="#" class="p-2 border rounded-md hover:bg-gray-50 transition-colors">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5 text-gray-700">
                <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
              </svg>
            </a>
            <a href="#" class="p-2 border rounded-md hover:bg-gray-50 transition-colors">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5 text-gray-700">
                <path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"></path>
              </svg>
            </a>
            <a href="#" class="p-2 border rounded-md hover:bg-gray-50 transition-colors">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5 text-gray-700">
                <path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path>
                <path d="M9 18c-4.51 2-5-2-7-2"></path>
              </svg>
            </a>
          </div>
        </div>
      </form>

      <div class="mt-6 text-center">
        <p class="text-sm text-gray-600">
          Not registered?
          <a href="{% url 'manager:worker-create' %}" class="font-medium text-gray-900 hover:underline ml-1">
            Create account
          </a>
        </p>
      </div>
    </div>
  </div>
</body>
</html>